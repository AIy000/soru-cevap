<div class="edit-question-container" *ngIf="question">
  <div class="container">
    <!-- Breadcrumb -->
    <div class="breadcrumb">
      <button class="btn-link" (click)="goBack()">â† Geri DÃ¶n</button>
      <span> / Soru DÃ¼zenle</span>
    </div>

    <div class="page-header">
      <h1>âœï¸ Soru DÃ¼zenle</h1>
      <p>Sorunuzu gÃ¼ncelleyin ve iyileÅŸtirin</p>
    </div>

    <div class="edit-form-container">
      <form (ngSubmit)="onSubmit()" class="edit-form">
        <!-- Soru BaÅŸlÄ±ÄŸÄ± -->
        <div class="form-group">
          <label for="title">
            <span class="required">*</span> Soru BaÅŸlÄ±ÄŸÄ±
            <small>({{ getCharacterCount(title) }}/{{ title.length > 0 ? 'âˆ' : 'min 10' }})</small>
          </label>
          <input 
            type="text" 
            id="title" 
            [(ngModel)]="title" 
            name="title"
            class="form-control"
            [class.error]="title.length > 0 && title.trim().length < 10"
            [class.success]="title.trim().length >= 10"
            placeholder="Sorunuzu Ã¶zetleyen net bir baÅŸlÄ±k yazÄ±n..."
            required>
          <div class="field-help">
            BaÅŸlÄ±ÄŸÄ±nÄ±z net ve aÃ§Ä±klayÄ±cÄ± olmalÄ±. Ã–rn: "Angular'da component'ler arasÄ± veri nasÄ±l paylaÅŸÄ±lÄ±r?"
          </div>
        </div>

        <!-- Soru AÃ§Ä±klamasÄ± -->
        <div class="form-group">
          <label for="body">
            <span class="required">*</span> Soru AÃ§Ä±klamasÄ±
            <small>({{ getCharacterCount(body) }}/{{ body.length > 0 ? 'âˆ' : 'min 20' }})</small>
          </label>
          <textarea 
            id="body" 
            [(ngModel)]="body" 
            name="body"
            class="form-control textarea"
            [class.error]="body.length > 0 && body.trim().length < 20"
            [class.success]="body.trim().length >= 20"
            placeholder="Sorununuzu detaylÄ± bir ÅŸekilde aÃ§Ä±klayÄ±n..."
            rows="8"
            required></textarea>
          <div class="field-help">
            Sorununuzu mÃ¼mkÃ¼n olduÄŸunca detaylÄ± aÃ§Ä±klayÄ±n. Kod Ã¶rnekleri, hata mesajlarÄ± ve denediÄŸiniz Ã§Ã¶zÃ¼mleri ekleyin.
          </div>
        </div>

        <!-- Etiketler -->
        <div class="form-group">
          <label for="tags">
            Etiketler <small>(En fazla 5 adet, virgÃ¼lle ayÄ±rÄ±n)</small>
          </label>
          <input 
            type="text" 
            id="tags" 
            [(ngModel)]="tags" 
            name="tags"
            class="form-control"
            placeholder="Ã–rn: angular, typescript, component"
            maxlength="200">
          
          <!-- Mevcut Etiketler -->
          <div class="current-tags" *ngIf="getCurrentTags().length > 0">
            <span class="current-tags-label">SeÃ§ili etiketler:</span>
            <span *ngFor="let tag of getCurrentTags()" class="tag current-tag">
              #{{ tag }}
              <button type="button" (click)="removeSuggestedTag(tag)" class="remove-tag">Ã—</button>
            </span>
          </div>

          <!-- Ã–nerilen Etiketler -->
          <div class="suggested-tags">
            <span class="suggested-tags-label">PopÃ¼ler etiketler:</span>
            <button 
              type="button"
              *ngFor="let tag of suggestedTags" 
              class="tag suggested-tag"
              [class.selected]="isTagSelected(tag)"
              [disabled]="!isTagSelected(tag) && getCurrentTags().length >= 5"
              (click)="addSuggestedTag(tag)">
              #{{ tag }}
            </button>
          </div>
          
          <div class="field-help">
            Etiketler sorunuzun kategorisini belirtir ve diÄŸer kullanÄ±cÄ±larÄ±n bulmasÄ±nÄ± kolaylaÅŸtÄ±rÄ±r.
          </div>
        </div>

        <!-- Hata MesajÄ± -->
        <div class="alert alert-danger" *ngIf="errorMessage">
          {{ errorMessage }}
        </div>

        <!-- Form Buttons -->
        <div class="form-actions">
          <button 
            type="button" 
            class="btn btn-secondary"
            (click)="goBack()">
            â† Ä°ptal
          </button>
          
          <button 
            type="submit" 
            class="btn btn-primary"
            [disabled]="isSubmitting || title.trim().length < 10 || body.trim().length < 20">
            <span *ngIf="isSubmitting">â³ GÃ¼ncelleniyor...</span>
            <span *ngIf="!isSubmitting">ğŸ’¾ GÃ¼ncelle</span>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Soru bulunamadÄ± veya yetki yok -->
<div class="not-found" *ngIf="!question">
  <div class="container">
    <div class="not-found-content">
      <h2>ğŸ˜ Soru BulunamadÄ± veya Yetkiniz Yok</h2>
      <p>DÃ¼zenlemek istediÄŸiniz soru bulunamadÄ± veya bu iÅŸlem iÃ§in yetkiniz bulunmuyor.</p>
      <button class="btn btn-primary" routerLink="/home">Ana Sayfaya DÃ¶n</button>
    </div>
  </div>
</div>
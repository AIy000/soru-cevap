<div class="ask-question-container">
  <div class="container">
    <div class="page-header">
      <h1>â“ Yeni Soru Sor</h1>
      <p>Topluluktan yardÄ±m alÄ±n! Sorunuzu detaylÄ± bir ÅŸekilde aÃ§Ä±klayÄ±n.</p>
    </div>

    <div class="question-form-container">
      <form (ngSubmit)="onSubmit()" class="question-form">
        <!-- Soru BaÅŸlÄ±ÄŸÄ± -->
        <div class="form-group">
          <label for="title">
            <span class="required">*</span> Soru BaÅŸlÄ±ÄŸÄ±
            <small>({{ getCharacterCount(title) }}/{{ title.length > 0 ? 'âˆ' : 'min 10' }})</small>
          </label>
          <input 
            type="text" 
            id="title" 
            [(ngModel)]="title" 
            name="title"
            class="form-control"
            [class.error]="title.length > 0 && title.trim().length < 10"
            [class.success]="title.trim().length >= 10"
            placeholder="Sorunuzu Ã¶zetleyen net bir baÅŸlÄ±k yazÄ±n..."
            required>
          <div class="field-help">
            BaÅŸlÄ±ÄŸÄ±nÄ±z net ve aÃ§Ä±klayÄ±cÄ± olmalÄ±. Ã–rn: "Angular'da component'ler arasÄ± veri nasÄ±l paylaÅŸÄ±lÄ±r?"
          </div>
        </div>

        <!-- Soru AÃ§Ä±klamasÄ± -->
        <div class="form-group">
          <label for="body">
            <span class="required">*</span> Soru AÃ§Ä±klamasÄ±
            <small>({{ getCharacterCount(body) }}/{{ body.length > 0 ? 'âˆ' : 'min 20' }})</small>
          </label>
          <textarea 
            id="body" 
            [(ngModel)]="body" 
            name="body"
            class="form-control textarea"
            [class.error]="body.length > 0 && body.trim().length < 20"
            [class.success]="body.trim().length >= 20"
            placeholder="Sorununuzu detaylÄ± bir ÅŸekilde aÃ§Ä±klayÄ±n. Ne yapmaya Ã§alÄ±ÅŸÄ±yorsunuz? Hangi hatayÄ± alÄ±yorsunuz? DenediÄŸiniz Ã§Ã¶zÃ¼mler neler?"
            rows="8"
            required></textarea>
          <div class="field-help">
            Sorununuzu mÃ¼mkÃ¼n olduÄŸunca detaylÄ± aÃ§Ä±klayÄ±n. Kod Ã¶rnekleri, hata mesajlarÄ± ve denediÄŸiniz Ã§Ã¶zÃ¼mleri ekleyin.
          </div>
        </div>

        <!-- Etiketler -->
        <div class="form-group">
          <label for="tags">
            Etiketler <small>(En fazla 5 adet, virgÃ¼lle ayÄ±rÄ±n)</small>
          </label>
          <input 
            type="text" 
            id="tags" 
            [(ngModel)]="tags" 
            name="tags"
            class="form-control"
            placeholder="Ã–rn: angular, typescript, component"
            maxlength="200">
          
          <!-- Mevcut Etiketler -->
          <div class="current-tags" *ngIf="getCurrentTags().length > 0">
            <span class="current-tags-label">SeÃ§ili etiketler:</span>
            <span *ngFor="let tag of getCurrentTags()" class="tag current-tag">
              #{{ tag }}
              <button type="button" (click)="removeSuggestedTag(tag)" class="remove-tag">Ã—</button>
            </span>
          </div>

          <!-- Ã–nerilen Etiketler -->
          <div class="suggested-tags">
            <span class="suggested-tags-label">PopÃ¼ler etiketler:</span>
            <button 
              type="button"
              *ngFor="let tag of suggestedTags" 
              class="tag suggested-tag"
              [class.selected]="isTagSelected(tag)"
              [disabled]="!isTagSelected(tag) && getCurrentTags().length >= 5"
              (click)="addSuggestedTag(tag)">
              #{{ tag }}
            </button>
          </div>
          
          <div class="field-help">
            Etiketler sorunuzun kategorisini belirtir ve diÄŸer kullanÄ±cÄ±larÄ±n bulmasÄ±nÄ± kolaylaÅŸtÄ±rÄ±r.
          </div>
        </div>

        <!-- Hata MesajÄ± -->
        <div class="alert alert-danger" *ngIf="errorMessage">
          {{ errorMessage }}
        </div>

        <!-- Form Buttons -->
        <div class="form-actions">
          <button 
            type="button" 
            class="btn btn-secondary"
            routerLink="/home">
            â† Ä°ptal
          </button>
          
          <button 
            type="submit" 
            class="btn btn-primary"
            [disabled]="isSubmitting || title.trim().length < 10 || body.trim().length < 20">
            <span *ngIf="isSubmitting">â³ GÃ¶nderiliyor...</span>
            <span *ngIf="!isSubmitting">ğŸš€ Soruyu YayÄ±nla</span>
          </button>
        </div>
      </form>

      <!-- YardÄ±m Paneli -->
      <div class="help-panel">
        <h3>ğŸ’¡ Ä°yi Soru Sorma Ä°puÃ§larÄ±</h3>
        
        <div class="tip">
          <h4>1. Net ve aÃ§Ä±klayÄ±cÄ± bir baÅŸlÄ±k yazÄ±n</h4>
          <p>Sorunuzu Ã¶zetleyen, arama yapÄ±ldÄ±ÄŸÄ±nda kolayca bulunabilecek bir baÅŸlÄ±k kullanÄ±n.</p>
        </div>

        <div class="tip">
          <h4>2. Sorununuzu detaylandÄ±rÄ±n</h4>
          <p>Ne yapmaya Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ±zÄ±, hangi sorunu yaÅŸadÄ±ÄŸÄ±nÄ±zÄ± ve ne beklediÄŸinizi aÃ§Ä±klayÄ±n.</p>
        </div>

        <div class="tip">
          <h4>3. DenediÄŸiniz Ã§Ã¶zÃ¼mleri paylaÅŸÄ±n</h4>
          <p>Hangi Ã§Ã¶zÃ¼mleri denediÄŸinizi ve sonuÃ§larÄ±nÄ± belirtin. Bu, tekrar eden Ã¶nerileri Ã¶nler.</p>
        </div>

        <div class="tip">
          <h4>4. Ä°lgili etiketleri ekleyin</h4>
          <p>Sorunuzla ilgili teknoloji, dil veya konu etiketlerini ekleyin.</p>
        </div>

        <div class="tip">
          <h4>5. Kod Ã¶rnekleri ekleyin</h4>
          <p>MÃ¼mkÃ¼nse sorununuzu gÃ¶steren kod parÃ§acÄ±klarÄ± veya hata mesajlarÄ± paylaÅŸÄ±n.</p>
        </div>
      </div>
    </div>
  </div>
</div>